# ğŸ“š DEVOPS & DEPLOYMENT - LÃ THUYáº¾T Tá»”NG QUAN

> **Má»¥c tiÃªu**: Hiá»ƒu toÃ n cáº£nh tháº¿ giá»›i DevOps/Deployment trÆ°á»›c khi thá»±c hÃ nh.

---

## ğŸ“– Má»¤C Lá»¤C

1. [Lá»‹ch sá»­ phÃ¡t triá»ƒn cá»§a Deployment](#1-lá»‹ch-sá»­-phÃ¡t-triá»ƒn)
2. [CÃ¡c khÃ¡i niá»‡m cá»‘t lÃµi](#2-cÃ¡c-khÃ¡i-niá»‡m-cá»‘t-lÃµi)
3. [Containerization (Docker)](#3-containerization)
4. [Container Registry](#4-container-registry)
5. [Reverse Proxy & Load Balancer](#5-reverse-proxy--load-balancer)
6. [Container Orchestration](#6-container-orchestration)
7. [CI/CD Pipeline](#7-cicd-pipeline)
8. [GitOps](#8-gitops)
9. [So sÃ¡nh cÃ¡c cÃ´ng cá»¥](#9-so-sÃ¡nh-cÃ¡c-cÃ´ng-cá»¥)
10. [Kiáº¿n trÃºc theo quy mÃ´](#10-kiáº¿n-trÃºc-theo-quy-mÃ´)
11. [Ãp dá»¥ng cho dá»± Ã¡n cá»§a báº¡n](#11-Ã¡p-dá»¥ng-cho-dá»±-Ã¡n)

---

# 1. Lá»ŠCH Sá»¬ PHÃT TRIá»‚N

## Sá»± tiáº¿n hÃ³a cá»§a Deployment

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EVOLUTION OF DEPLOYMENT                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ERA 1: BARE METAL (2000s)                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚   Physical Server    â”‚   â€¢ 1 server = 1 application                      â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â€¢ Tá»‘n kÃ©m, lÃ£ng phÃ­ tÃ i nguyÃªn                  â”‚
â”‚  â”‚   â”‚ Your App       â”‚ â”‚   â€¢ KhÃ³ scale, deploy thá»§ cÃ´ng                    â”‚
â”‚  â”‚   â”‚ Dependencies   â”‚ â”‚   â€¢ "Works on my machine" problem                 â”‚
â”‚  â”‚   â”‚ OS (Linux)     â”‚ â”‚                                                   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                                                   â”‚
â”‚  â”‚   Hardware           â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â–¼                                                                 â”‚
â”‚  ERA 2: VIRTUAL MACHINES (2010s)                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚   Physical Server    â”‚   â€¢ 1 server = nhiá»u VMs                          â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”   â”‚   â€¢ Táº­n dá»¥ng tÃ i nguyÃªn tá»‘t hÆ¡n                   â”‚
â”‚  â”‚   â”‚ VM1 â”‚ â”‚ VM2 â”‚   â”‚   â€¢ Má»—i VM cÃ³ OS riÃªng â†’ náº·ng                     â”‚
â”‚  â”‚   â”‚ App â”‚ â”‚ App â”‚   â”‚   â€¢ Boot time: phÃºt                               â”‚
â”‚  â”‚   â”‚ OS  â”‚ â”‚ OS  â”‚   â”‚   â€¢ VMware, VirtualBox, AWS EC2                   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜   â”‚                                                   â”‚
â”‚  â”‚   Hypervisor         â”‚                                                   â”‚
â”‚  â”‚   Host OS            â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â–¼                                                                 â”‚
â”‚  ERA 3: CONTAINERS (2013+)                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚   Physical/VM        â”‚   â€¢ Chia sáº» OS kernel                             â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”‚   â€¢ Nháº¹, boot trong giÃ¢y                          â”‚
â”‚  â”‚   â”‚C1 â”‚ â”‚C2 â”‚ â”‚C3 â”‚ â”‚   â€¢ ÄÃ³ng gÃ³i app + dependencies                   â”‚
â”‚  â”‚   â”‚Appâ”‚ â”‚Appâ”‚ â”‚Appâ”‚ â”‚   â€¢ "Build once, run anywhere"                    â”‚
â”‚  â”‚   â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â”‚   â€¢ Docker (2013)                                  â”‚
â”‚  â”‚   Docker Engine      â”‚                                                   â”‚
â”‚  â”‚   Host OS (1 cÃ¡i)    â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â–¼                                                                 â”‚
â”‚  ERA 4: CONTAINER ORCHESTRATION (2015+)                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚                    Kubernetes / Docker Swarm                      â”‚      â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚      â”‚
â”‚  â”‚   â”‚ Node 1  â”‚  â”‚ Node 2  â”‚  â”‚ Node 3  â”‚  â”‚ Node N  â”‚            â”‚      â”‚
â”‚  â”‚   â”‚â”Œâ”€â”â”Œâ”€â”â”Œâ”€â”â”‚  â”‚â”Œâ”€â”â”Œâ”€â”â”Œâ”€â”â”‚  â”‚â”Œâ”€â”â”Œâ”€â”â”Œâ”€â”â”‚  â”‚â”Œâ”€â”â”Œâ”€â”â”Œâ”€â”â”‚            â”‚      â”‚
â”‚  â”‚   â”‚â””â”€â”˜â””â”€â”˜â””â”€â”˜â”‚  â”‚â””â”€â”˜â””â”€â”˜â””â”€â”˜â”‚  â”‚â””â”€â”˜â””â”€â”˜â””â”€â”˜â”‚  â”‚â””â”€â”˜â””â”€â”˜â””â”€â”˜â”‚            â”‚      â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚      â”‚
â”‚  â”‚   â€¢ Tá»± Ä‘á»™ng scale up/down                                        â”‚      â”‚
â”‚  â”‚   â€¢ Self-healing (restart khi crash)                             â”‚      â”‚
â”‚  â”‚   â€¢ Rolling updates, zero-downtime                               â”‚      â”‚
â”‚  â”‚   â€¢ Service discovery, load balancing                            â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 2. CÃC KHÃI NIá»†M Cá»T LÃ•I

## Báº£n Ä‘á»“ khÃ¡i niá»‡m

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DEVOPS CONCEPT MAP                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   SOURCE CODE                    CONTAINERIZATION                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚   â”‚ GitHub  â”‚ â”€â”€â”€â”€â”€ Build â”€â”€â”€â”€â”€â–¶ â”‚ Docker Image    â”‚                        â”‚
â”‚   â”‚ GitLab  â”‚                    â”‚ (Ä‘Ã³ng gÃ³i code) â”‚                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                           â”‚                                 â”‚
â”‚                                           â–¼                                 â”‚
â”‚   CI/CD PIPELINE                 CONTAINER REGISTRY                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚   â”‚ Jenkins         â”‚ â”€â”€ Push â”€â”€â–¶â”‚ Docker Hub      â”‚                        â”‚
â”‚   â”‚ GitHub Actions  â”‚            â”‚ AWS ECR         â”‚                        â”‚
â”‚   â”‚ GitLab CI       â”‚            â”‚ GCR (Google)    â”‚                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                           â”‚                                 â”‚
â”‚                                           â”‚ Pull                            â”‚
â”‚                                           â–¼                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                      SERVER / CLUSTER                                â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚   â”‚  â”‚                   ORCHESTRATION LAYER                        â”‚    â”‚  â”‚
â”‚   â”‚  â”‚     Docker Compose / Docker Swarm / Kubernetes               â”‚    â”‚  â”‚
â”‚   â”‚  â”‚                                                              â”‚    â”‚  â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚  â”‚
â”‚   â”‚  â”‚  â”‚Container â”‚  â”‚Container â”‚  â”‚Container â”‚  â”‚Container â”‚    â”‚    â”‚  â”‚
â”‚   â”‚  â”‚  â”‚ Backend  â”‚  â”‚ Frontend â”‚  â”‚ Database â”‚  â”‚ Cache    â”‚    â”‚    â”‚  â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚   â”‚                              â”‚                                       â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚  â”‚              REVERSE PROXY / INGRESS                          â”‚  â”‚  â”‚
â”‚   â”‚  â”‚         Nginx / Traefik / HAProxy / K8s Ingress               â”‚  â”‚  â”‚
â”‚   â”‚  â”‚                                                               â”‚  â”‚  â”‚
â”‚   â”‚  â”‚   example.com â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Frontend:3000          â”‚  â”‚  â”‚
â”‚   â”‚  â”‚   api.example.com â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Backend:4000           â”‚  â”‚  â”‚
â”‚   â”‚  â”‚   jenkins.example.com â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Jenkins:8080           â”‚  â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                              â”‚
â”‚                              â–¼                                              â”‚
â”‚                         INTERNET                                            â”‚
â”‚                    (Users truy cáº­p)                                         â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 3. CONTAINERIZATION

## 3.1 Docker lÃ  gÃ¬?

**Docker** = CÃ´ng cá»¥ Ä‘Ã³ng gÃ³i á»©ng dá»¥ng + mÃ´i trÆ°á»ng thÃ nh 1 "há»™p" (container) cÃ³ thá»ƒ cháº¡y á»Ÿ báº¥t ká»³ Ä‘Ã¢u.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DOCKER WORKFLOW                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚   Dockerfile          Docker Image         Docker Container    â”‚
â”‚   (CÃ´ng thá»©c)         (áº¢nh chá»¥p)           (Äang cháº¡y)         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ FROM    â”‚         â”‚         â”‚          â”‚ ~~~~~~~ â”‚         â”‚
â”‚   â”‚ COPY    â”‚ build   â”‚  ğŸ“¦     â”‚   run    â”‚ ~ App ~ â”‚         â”‚
â”‚   â”‚ RUN     â”‚ â”€â”€â”€â”€â”€â–¶  â”‚ Image   â”‚ â”€â”€â”€â”€â”€â–¶   â”‚ running â”‚         â”‚
â”‚   â”‚ CMD     â”‚         â”‚         â”‚          â”‚ ~~~~~~~ â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                â”‚
â”‚   â€¢ Dockerfile: File text mÃ´ táº£ cÃ¡ch build image               â”‚
â”‚   â€¢ Image: Template read-only, cÃ³ thá»ƒ share                    â”‚
â”‚   â€¢ Container: Instance Ä‘ang cháº¡y cá»§a image                    â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3.2 CÃ¡c khÃ¡i niá»‡m Docker

| KhÃ¡i niá»‡m | Giáº£i thÃ­ch | VÃ­ dá»¥ |
|-----------|------------|-------|
| **Dockerfile** | File hÆ°á»›ng dáº«n build image | `FROM node:18` |
| **Image** | Template Ä‘Ã³ng gÃ³i sáºµn code + dependencies | `nginx:latest` |
| **Container** | Instance cháº¡y tá»« image | Container ID: `abc123` |
| **Volume** | LÆ°u trá»¯ data persistent | Database storage |
| **Network** | Máº¡ng Ä‘á»ƒ containers giao tiáº¿p | `bridge`, `host` |
| **Docker Compose** | Äá»‹nh nghÄ©a multi-container apps | `docker-compose.yml` |

---

# 4. CONTAINER REGISTRY

## 4.1 Registry lÃ  gÃ¬?

**Container Registry** = Kho lÆ°u trá»¯ Docker Images trÃªn cloud.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONTAINER REGISTRY                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚   DEV MACHINE                    REGISTRY                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚ Build   â”‚                    â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”‚           â”‚
â”‚   â”‚ Image   â”‚ â”€â”€â”€â”€ push â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ â”‚img1 â”‚ â”‚img2 â”‚ â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â”‚           â”‚
â”‚                                  â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”‚           â”‚
â”‚   PRODUCTION                     â”‚ â”‚img3 â”‚ â”‚img4 â”‚ â”‚           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â”‚           â”‚
â”‚   â”‚ Server  â”‚ â—€â”€â”€â”€â”€ pull â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚           â”‚
â”‚   â”‚ Run     â”‚                    â”‚   Docker Hub    â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚   AWS ECR       â”‚           â”‚
â”‚                                  â”‚   GCR           â”‚           â”‚
â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 4.2 CÃ¡c Registry phá»• biáº¿n

| Registry | Loáº¡i | GiÃ¡ | Use case |
|----------|------|-----|----------|
| **Docker Hub** | Public | Free (1 private repo) | Open source, personal |
| **GitHub Container Registry (GHCR)** | GitHub integrated | Free (vá»›i GitHub) | GitHub projects |
| **AWS ECR** | AWS | Pay-per-use | AWS infrastructure |
| **Google GCR / Artifact Registry** | GCP | Pay-per-use | GCP infrastructure |
| **Harbor** | Self-hosted | Free | Enterprise, on-premise |

---

# 5. REVERSE PROXY & LOAD BALANCER

## 5.1 Reverse Proxy lÃ  gÃ¬?

**Reverse Proxy** = Táº§ng trung gian nháº­n request tá»« internet vÃ  forward Ä‘áº¿n Ä‘Ãºng service.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         REVERSE PROXY                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   KHÃ”NG CÃ“ REVERSE PROXY:                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                             â”‚
â”‚   â”‚ Internet â”‚ â”€â”€â”€ :3000 â”€â”€â–¶ Frontend                                      â”‚
â”‚   â”‚          â”‚ â”€â”€â”€ :4000 â”€â”€â–¶ Backend    (Pháº£i má»Ÿ nhiá»u ports)              â”‚
â”‚   â”‚          â”‚ â”€â”€â”€ :8080 â”€â”€â–¶ Jenkins                                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                             â”‚
â”‚                                                                            â”‚
â”‚   CÃ“ REVERSE PROXY:                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   â”‚ Internet â”‚â”€â”€â”€â”€â–¶â”‚   NGINX     â”‚â”€â”€â”€â”€â–¶â”‚ Frontend (:3000)  â”‚              â”‚
â”‚   â”‚          â”‚     â”‚ (Port 80)   â”‚â”€â”€â”€â”€â–¶â”‚ Backend (:4000)   â”‚              â”‚
â”‚   â”‚          â”‚     â”‚             â”‚â”€â”€â”€â”€â–¶â”‚ Jenkins (:8080)   â”‚              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                            â”‚
â”‚   Lá»£i Ã­ch:                                                                 â”‚
â”‚   â€¢ Chá»‰ má»Ÿ 1 port (80/443)                                                â”‚
â”‚   â€¢ SSL termination (xá»­ lÃ½ HTTPS táº­p trung)                               â”‚
â”‚   â€¢ Route theo domain/path                                                 â”‚
â”‚   â€¢ Caching, compression                                                   â”‚
â”‚   â€¢ Security (áº©n internal services)                                        â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5.2 Load Balancer lÃ  gÃ¬?

**Load Balancer** = PhÃ¢n táº£i request Ä‘áº¿n nhiá»u instances cá»§a cÃ¹ng 1 service.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         LOAD BALANCER                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚                         â”‚ Load Balancer â”‚                                  â”‚
â”‚                         â”‚               â”‚                                  â”‚
â”‚   1000 requests â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Distribute   â”‚                                  â”‚
â”‚                         â”‚               â”‚                                  â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                  â–¼              â–¼              â–¼                           â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚           â”‚ Backend  â”‚   â”‚ Backend  â”‚   â”‚ Backend  â”‚                       â”‚
â”‚           â”‚ Instance â”‚   â”‚ Instance â”‚   â”‚ Instance â”‚                       â”‚
â”‚           â”‚    1     â”‚   â”‚    2     â”‚   â”‚    3     â”‚                       â”‚
â”‚           â”‚ 333 req  â”‚   â”‚ 333 req  â”‚   â”‚ 333 req  â”‚                       â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                            â”‚
â”‚   Algorithms:                                                              â”‚
â”‚   â€¢ Round Robin: Chia Ä‘á»u tuáº§n tá»±                                          â”‚
â”‚   â€¢ Least Connections: Gá»­i Ä‘áº¿n instance Ã­t káº¿t ná»‘i nháº¥t                   â”‚
â”‚   â€¢ IP Hash: CÃ¹ng client IP â†’ cÃ¹ng instance                               â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5.3 So sÃ¡nh cÃ¡c Reverse Proxy

| Tool | Äiá»ƒm máº¡nh | Äiá»ƒm yáº¿u | Use case |
|------|-----------|----------|----------|
| **Nginx** | Phá»• biáº¿n, stable, nhiá»u tÃ i liá»‡u | Config phá»©c táº¡p, reload khi Ä‘á»•i config | Traditional, static sites |
| **Traefik** | Auto-discovery containers, dynamic config | Config há»c ban Ä‘áº§u khÃ³ | Docker/K8s environments |
| **HAProxy** | Performance cao, TCP/HTTP | Ãt features hÆ¡n Nginx | High-traffic, TCP load balancing |
| **Caddy** | Auto HTTPS, config Ä‘Æ¡n giáº£n | Ãt phá»• biáº¿n | Small projects, personal |

---

# 6. CONTAINER ORCHESTRATION

## 6.1 Váº¥n Ä‘á» khi scale

Khi cÃ³ 1-2 containers â†’ Docker Compose Ä‘á»§.
Khi cÃ³ 100+ containers â†’ Cáº§n Orchestration.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Váº¤N Äá»€ KHI SCALE                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   CÃ¢u há»i cáº§n tráº£ lá»i khi cÃ³ nhiá»u containers:                            â”‚
â”‚                                                                            â”‚
â”‚   â€¢ Container cháº¿t â†’ Ai restart?                                           â”‚
â”‚   â€¢ Cáº§n 10 instances backend â†’ Ai táº¡o?                                     â”‚
â”‚   â€¢ Traffic tÄƒng â†’ Ai scale up?                                            â”‚
â”‚   â€¢ Traffic giáº£m â†’ Ai scale down?                                          â”‚
â”‚   â€¢ Update version má»›i â†’ LÃ m sao khÃ´ng downtime?                          â”‚
â”‚   â€¢ Node server cháº¿t â†’ Containers chuyá»ƒn Ä‘i Ä‘Ã¢u?                          â”‚
â”‚   â€¢ Service A gá»i Service B â†’ TÃ¬m IP tháº¿ nÃ o?                             â”‚
â”‚                                                                            â”‚
â”‚   â”€â”€â–¶ ÄÃ¢y lÃ  lÃ½ do cáº§n CONTAINER ORCHESTRATION!                           â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 6.2 Docker Compose vs Docker Swarm vs Kubernetes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ORCHESTRATION COMPARISON                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚   â”‚  DOCKER COMPOSE  â”‚                                                     â”‚
â”‚   â”‚                  â”‚   â€¢ Single host only                                â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”    â”‚   â€¢ KhÃ´ng cÃ³ auto-scaling                            â”‚
â”‚   â”‚  â”‚ C â”‚ â”‚ C â”‚    â”‚   â€¢ KhÃ´ng cÃ³ self-healing                            â”‚
â”‚   â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜    â”‚   â€¢ PhÃ¹ há»£p: dev, small projects                     â”‚
â”‚   â”‚  [1 Server]     â”‚   â€¢ File: docker-compose.yml                         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                     â”‚
â”‚           â”‚                                                                â”‚
â”‚           â”‚ Scale up                                                       â”‚
â”‚           â–¼                                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚   â”‚              DOCKER SWARM                     â”‚                         â”‚
â”‚   â”‚                                              â”‚                         â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â€¢ Multi-host cluster  â”‚
â”‚   â”‚  â”‚ Node 1 â”‚  â”‚ Node 2 â”‚  â”‚ Node 3 â”‚         â”‚   â€¢ Basic orchestration â”‚
â”‚   â”‚  â”‚ â”Œâ”€â”â”Œâ”€â” â”‚  â”‚ â”Œâ”€â”â”Œâ”€â” â”‚  â”‚ â”Œâ”€â”â”Œâ”€â” â”‚         â”‚   â€¢ Easy to setup       â”‚
â”‚   â”‚  â”‚ â””â”€â”˜â””â”€â”˜ â”‚  â”‚ â””â”€â”˜â””â”€â”˜ â”‚  â”‚ â””â”€â”˜â””â”€â”˜ â”‚         â”‚   â€¢ Docker native       â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â€¢ PhÃ¹ há»£p: medium     â”‚
â”‚   â”‚  Manager     Worker      Worker              â”‚                         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚           â”‚                                                                â”‚
â”‚           â”‚ Scale up more                                                  â”‚
â”‚           â–¼                                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                        KUBERNETES (K8s)                           â”‚    â”‚
â”‚   â”‚                                                                  â”‚    â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚   â”‚  â”‚                    Control Plane                             â”‚ â”‚    â”‚
â”‚   â”‚  â”‚  API Server â”‚ Scheduler â”‚ Controller â”‚ etcd                 â”‚ â”‚    â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚   â”‚                              â”‚                                   â”‚    â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚
â”‚   â”‚  â”‚   Node 1   â”‚  â”‚   Node 2   â”‚  â”‚   Node 3   â”‚  â”‚   Node N   â”‚â”‚    â”‚
â”‚   â”‚  â”‚ â”Œâ”€â”€â” â”Œâ”€â”€â”  â”‚  â”‚ â”Œâ”€â”€â” â”Œâ”€â”€â”  â”‚  â”‚ â”Œâ”€â”€â” â”Œâ”€â”€â”  â”‚  â”‚ â”Œâ”€â”€â” â”Œâ”€â”€â”  â”‚â”‚    â”‚
â”‚   â”‚  â”‚ â”‚Poâ”‚ â”‚Poâ”‚  â”‚  â”‚ â”‚Poâ”‚ â”‚Poâ”‚  â”‚  â”‚ â”‚Poâ”‚ â”‚Poâ”‚  â”‚  â”‚ â”‚Poâ”‚ â”‚Poâ”‚  â”‚â”‚    â”‚
â”‚   â”‚  â”‚ â””â”€â”€â”˜ â””â”€â”€â”˜  â”‚  â”‚ â””â”€â”€â”˜ â””â”€â”€â”˜  â”‚  â”‚ â””â”€â”€â”˜ â””â”€â”€â”˜  â”‚  â”‚ â””â”€â”€â”˜ â””â”€â”€â”˜  â”‚â”‚    â”‚
â”‚   â”‚  â”‚  kubelet   â”‚  â”‚  kubelet   â”‚  â”‚  kubelet   â”‚  â”‚  kubelet   â”‚â”‚    â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚
â”‚   â”‚                                                                  â”‚    â”‚
â”‚   â”‚  â€¢ Full-featured orchestration                                   â”‚    â”‚
â”‚   â”‚  â€¢ Auto-scaling (HPA, VPA)                                       â”‚    â”‚
â”‚   â”‚  â€¢ Self-healing, rolling updates                                 â”‚    â”‚
â”‚   â”‚  â€¢ Service mesh, Ingress                                         â”‚    â”‚
â”‚   â”‚  â€¢ Phá»©c táº¡p, learning curve cao                                  â”‚    â”‚
â”‚   â”‚  â€¢ PhÃ¹ há»£p: enterprise, large scale                             â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 6.3 Kubernetes Concepts

| Concept | Giáº£i thÃ­ch | TÆ°Æ¡ng Ä‘Æ°Æ¡ng Docker |
|---------|------------|-------------------|
| **Pod** | ÄÆ¡n vá»‹ nhá» nháº¥t, 1+ containers | Container |
| **Deployment** | Quáº£n lÃ½ replicas cá»§a Pods | docker-compose service |
| **Service** | Expose Pods, load balancing | Port mapping |
| **Ingress** | Route HTTP traffic tá»« bÃªn ngoÃ i | Nginx reverse proxy |
| **ConfigMap** | LÆ°u config | Environment variables |
| **Secret** | LÆ°u sensitive data | .env file (encrypted) |
| **PersistentVolume** | Storage | Volume mount |
| **Namespace** | Logical isolation | N/A |

## 6.4 Ingress trong Kubernetes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         KUBERNETES INGRESS                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                             â”‚
â”‚   â”‚ Internet â”‚                                                             â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                                             â”‚
â”‚        â”‚                                                                   â”‚
â”‚        â–¼                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚                    INGRESS CONTROLLER                                â”‚ â”‚
â”‚   â”‚               (Nginx Ingress / Traefik / etc.)                       â”‚ â”‚
â”‚   â”‚                                                                      â”‚ â”‚
â”‚   â”‚   Ingress Rules:                                                     â”‚ â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚   â”‚   â”‚ Host: projecthub.vn                                          â”‚   â”‚ â”‚
â”‚   â”‚   â”‚   Path: /          â†’ Service: frontend (port 3000)          â”‚   â”‚ â”‚
â”‚   â”‚   â”‚                                                              â”‚   â”‚ â”‚
â”‚   â”‚   â”‚ Host: api.projecthub.vn                                      â”‚   â”‚ â”‚
â”‚   â”‚   â”‚   Path: /          â†’ Service: backend (port 4000)           â”‚   â”‚ â”‚
â”‚   â”‚   â”‚                                                              â”‚   â”‚ â”‚
â”‚   â”‚   â”‚ Host: jenkins.projecthub.vn                                  â”‚   â”‚ â”‚
â”‚   â”‚   â”‚   Path: /          â†’ Service: jenkins (port 8080)           â”‚   â”‚ â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â”‚                                                                   â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                               â–¼                      â–¼                  â–¼ â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        â”‚ Service  â”‚           â”‚ Service  â”‚       â”‚ Service  â”‚
â”‚                        â”‚ frontend â”‚           â”‚ backend  â”‚       â”‚ jenkins  â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
â”‚                              â”‚                      â”‚                  â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚                        â”‚   Pods   â”‚           â”‚   Pods   â”‚       â”‚   Pods   â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                                                            â”‚
â”‚   Ingress = Kubernetes-native reverse proxy + load balancer               â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 7. CI/CD PIPELINE

## 7.1 CI/CD lÃ  gÃ¬?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CI/CD PIPELINE                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   CI = Continuous Integration (TÃ­ch há»£p liÃªn tá»¥c)                          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                            â”‚
â”‚   â€¢ Developer push code â†’ Tá»± Ä‘á»™ng test                                     â”‚
â”‚   â€¢ Nhiá»u developers merge code thÆ°á»ng xuyÃªn                               â”‚
â”‚   â€¢ PhÃ¡t hiá»‡n bugs sá»›m                                                     â”‚
â”‚                                                                            â”‚
â”‚   CD = Continuous Delivery / Deployment (Triá»ƒn khai liÃªn tá»¥c)              â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚
â”‚   â€¢ Code Ä‘Ã£ test â†’ Tá»± Ä‘á»™ng deploy                                          â”‚
â”‚   â€¢ Delivery: Deploy Ä‘áº¿n staging, cáº§n approve Ä‘á»ƒ lÃªn prod                  â”‚
â”‚   â€¢ Deployment: Tá»± Ä‘á»™ng deploy luÃ´n production                             â”‚
â”‚                                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚  Code   â”‚â”€â”€â”€â–¶â”‚  Build  â”‚â”€â”€â”€â–¶â”‚  Test   â”‚â”€â”€â”€â–¶â”‚ Deploy  â”‚â”€â”€â”€â–¶â”‚ Monitor â”‚ â”‚
â”‚   â”‚  Push   â”‚    â”‚         â”‚    â”‚         â”‚    â”‚ Staging â”‚    â”‚         â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                      â”‚                     â”‚
â”‚                                                      â”‚ Approve             â”‚
â”‚                                                      â–¼                     â”‚
â”‚                                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚                                                 â”‚ Deploy  â”‚                â”‚
â”‚                                                 â”‚  Prod   â”‚                â”‚
â”‚                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7.2 So sÃ¡nh CI/CD Tools

| Tool | Loáº¡i | Hosting | GiÃ¡ | Äiá»ƒm máº¡nh |
|------|------|---------|-----|-----------|
| **Jenkins** | Self-hosted | Báº¡n host | Free | Linh hoáº¡t, nhiá»u plugins |
| **GitHub Actions** | Cloud | GitHub | Free tier | TÃ­ch há»£p GitHub, dá»… dÃ¹ng |
| **GitLab CI** | Cloud/Self-hosted | GitLab | Free tier | All-in-one vá»›i GitLab |
| **CircleCI** | Cloud | CircleCI | Free tier | Nhanh, dá»… config |
| **ArgoCD** | Self-hosted (K8s) | K8s cluster | Free | GitOps, chá»‰ deploy |

## 7.3 Jenkins vs GitHub Actions vs ArgoCD

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CI/CD TOOLS COMPARISON                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   JENKINS                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚   â”‚  â€¢ Self-hosted (báº¡n quáº£n lÃ½ server)      â”‚                             â”‚
â”‚   â”‚  â€¢ Full CI + CD                          â”‚                             â”‚
â”‚   â”‚  â€¢ 1500+ plugins                         â”‚                             â”‚
â”‚   â”‚  â€¢ Jenkinsfile (Groovy DSL)              â”‚                             â”‚
â”‚   â”‚  â€¢ Tá»‘n RAM (~700MB+)                     â”‚                             â”‚
â”‚   â”‚  â€¢ PhÃ¹ há»£p: Enterprise, complex builds   â”‚                             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                            â”‚
â”‚   GITHUB ACTIONS                                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚   â”‚  â€¢ GitHub-hosted runners (miá»…n phÃ­)      â”‚                             â”‚
â”‚   â”‚  â€¢ Full CI + CD                          â”‚                             â”‚
â”‚   â”‚  â€¢ YAML config dá»… viáº¿t                   â”‚                             â”‚
â”‚   â”‚  â€¢ Marketplace actions                   â”‚                             â”‚
â”‚   â”‚  â€¢ TÃ­ch há»£p sÃ¢u GitHub                   â”‚                             â”‚
â”‚   â”‚  â€¢ PhÃ¹ há»£p: GitHub projects              â”‚                             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                            â”‚
â”‚   ARGOCD                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚   â”‚  â€¢ Chá»‰ CD (khÃ´ng cÃ³ CI)                  â”‚                             â”‚
â”‚   â”‚  â€¢ GitOps model                          â”‚                             â”‚
â”‚   â”‚  â€¢ Kubernetes-native                     â”‚                             â”‚
â”‚   â”‚  â€¢ Sync git repo â†’ K8s cluster           â”‚                             â”‚
â”‚   â”‚  â€¢ PhÃ¹ há»£p: K8s deployments             â”‚                             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                            â”‚
â”‚   Káº¿t há»£p phá»• biáº¿n:                                                        â”‚
â”‚   â€¢ GitHub Actions (CI) + ArgoCD (CD) â†’ Git push â†’ Build â†’ Sync to K8s    â”‚
â”‚   â€¢ Jenkins (CI) + ArgoCD (CD) â†’ TÆ°Æ¡ng tá»±                                  â”‚
â”‚   â€¢ Jenkins (CI + CD) â†’ All-in-one                                         â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 8. GITOPS

## 8.1 GitOps lÃ  gÃ¬?

**GitOps** = DÃ¹ng Git lÃ m "single source of truth" cho infrastructure vÃ  deployments.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         GITOPS MODEL                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   TRADITIONAL CI/CD:                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚   â”‚ CI     â”‚â”€â”€â”€â–¶â”‚ CD     â”‚â”€â”€â”€â–¶â”‚ Server â”‚   CI/CD push to server           â”‚
â”‚   â”‚ Build  â”‚    â”‚ Deploy â”‚    â”‚        â”‚                                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                                                                            â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                            â”‚
â”‚   GITOPS:                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚   â”‚   Git Repo       â”‚   â—€â”€â”€â”€â”€ Developer push config changes              â”‚
â”‚   â”‚ (k8s manifests)  â”‚                                                     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                     â”‚
â”‚            â”‚                                                               â”‚
â”‚            â”‚ ArgoCD pulls & syncs                                          â”‚
â”‚            â–¼                                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚   â”‚  ArgoCD / Flux   â”‚   GitOps operator                                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                     â”‚
â”‚            â”‚                                                               â”‚
â”‚            â”‚ Apply to cluster                                              â”‚
â”‚            â–¼                                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚   â”‚ Kubernetes       â”‚   Server pulls config from Git                      â”‚
â”‚   â”‚ Cluster          â”‚   (khÃ´ng pháº£i CI push)                              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                     â”‚
â”‚                                                                            â”‚
â”‚   Lá»£i Ã­ch GitOps:                                                          â”‚
â”‚   â€¢ Git = audit trail (ai thay Ä‘á»•i gÃ¬, khi nÃ o)                           â”‚
â”‚   â€¢ Rollback = git revert                                                  â”‚
â”‚   â€¢ Infrastructure as Code                                                 â”‚
â”‚   â€¢ Declarative (khai bÃ¡o state mong muá»‘n)                                â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 9. SO SÃNH CÃC CÃ”NG Cá»¤

## 9.1 Tá»•ng há»£p so sÃ¡nh

| Category | Simple | Medium | Advanced |
|----------|--------|--------|----------|
| **Containerization** | Docker | Docker | Docker |
| **Orchestration** | Docker Compose | Docker Swarm | Kubernetes |
| **Reverse Proxy** | Nginx | Nginx/Traefik | Ingress Controller |
| **CI** | GitHub Actions | Jenkins | Jenkins/GitLab CI |
| **CD** | Manual/Script | Jenkins | ArgoCD/Flux |
| **Registry** | Docker Hub | Docker Hub | Harbor/ECR |
| **Monitoring** | docker logs | Portainer | Prometheus/Grafana |
| **Secrets** | .env files | Docker Secrets | Vault/K8s Secrets |

## 9.2 Khi nÃ o dÃ¹ng gÃ¬?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DECISION MATRIX                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   Sá»‘ lÆ°á»£ng containers:  1-5      5-20       20-100      100+               â”‚
â”‚                          â”‚         â”‚           â”‚          â”‚                â”‚
â”‚                          â–¼         â–¼           â–¼          â–¼                â”‚
â”‚   Orchestration:     Compose   Compose     Swarm     Kubernetes           â”‚
â”‚                                 or Swarm                                   â”‚
â”‚                                                                            â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                            â”‚
â”‚   Team size:         1-2        3-10        10+         50+                â”‚
â”‚                       â”‚           â”‚           â”‚           â”‚                â”‚
â”‚                       â–¼           â–¼           â–¼           â–¼                â”‚
â”‚   CI/CD:         GitHub      Jenkins    Jenkins +   GitOps                â”‚
â”‚                  Actions                  ArgoCD     Pipeline             â”‚
â”‚                                                                            â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                            â”‚
â”‚   Traffic:       Low         Medium      High        Very High            â”‚
â”‚                   â”‚            â”‚           â”‚            â”‚                  â”‚
â”‚                   â–¼            â–¼           â–¼            â–¼                  â”‚
â”‚   Infra:       1 VPS       1-3 VPS    Cluster      Multi-cluster         â”‚
â”‚                                        (K8s)        + CDN                 â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 10. KIáº¾N TRÃšC THEO QUY MÃ”

## 10.1 Level 1: Basic (Dá»± Ã¡n cá»§a báº¡n hiá»‡n táº¡i)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LEVEL 1: BASIC ARCHITECTURE                              â”‚
â”‚                    (1 VPS, Docker Compose)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   PhÃ¹ há»£p: Side projects, startups early stage, < 10k users              â”‚
â”‚                                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                        VPS (2 CPU, 3GB RAM)                       â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚   â”‚   â”‚                    Docker Compose                        â”‚    â”‚    â”‚
â”‚   â”‚   â”‚                                                         â”‚    â”‚    â”‚
â”‚   â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚    â”‚    â”‚
â”‚   â”‚   â”‚  â”‚Postgresâ”‚  â”‚Backend â”‚  â”‚Frontendâ”‚  â”‚Jenkins â”‚        â”‚    â”‚    â”‚
â”‚   â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚    â”‚    â”‚
â”‚   â”‚   â”‚                                                         â”‚    â”‚    â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚   â”‚                              â”‚                                    â”‚    â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚   â”‚   â”‚                      NGINX                                â”‚   â”‚    â”‚
â”‚   â”‚   â”‚              (Reverse Proxy + SSL)                        â”‚   â”‚    â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚   â”‚                              â”‚                                    â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                  â”‚                                         â”‚
â”‚                             INTERNET                                       â”‚
â”‚                                                                            â”‚
â”‚   CI/CD: Jenkins hoáº·c GitHub Actions                                       â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 10.2 Level 2: Intermediate

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LEVEL 2: INTERMEDIATE ARCHITECTURE                       â”‚
â”‚                    (Multiple VPS, Docker Swarm)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   PhÃ¹ há»£p: Growing startups, 10k-100k users                               â”‚
â”‚                                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚   â”‚    VPS 1      â”‚  â”‚    VPS 2      â”‚  â”‚    VPS 3      â”‚                â”‚
â”‚   â”‚   (Manager)   â”‚  â”‚   (Worker)    â”‚  â”‚   (Worker)    â”‚                â”‚
â”‚   â”‚               â”‚  â”‚               â”‚  â”‚               â”‚                â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                â”‚
â”‚   â”‚  â”‚Postgres â”‚  â”‚  â”‚  â”‚Backend  â”‚  â”‚  â”‚  â”‚Backend  â”‚  â”‚                â”‚
â”‚   â”‚  â”‚(primary)â”‚  â”‚  â”‚  â”‚replica 1â”‚  â”‚  â”‚  â”‚replica 2â”‚  â”‚                â”‚
â”‚   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                â”‚
â”‚   â”‚  â”‚Frontend â”‚  â”‚  â”‚  â”‚Frontend â”‚  â”‚  â”‚  â”‚Frontend â”‚  â”‚                â”‚
â”‚   â”‚  â”‚replica 1â”‚  â”‚  â”‚  â”‚replica 2â”‚  â”‚  â”‚  â”‚replica 3â”‚  â”‚                â”‚
â”‚   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                â”‚
â”‚   â”‚  â”‚Traefik  â”‚  â”‚  â”‚               â”‚  â”‚               â”‚                â”‚
â”‚   â”‚  â”‚(proxy)  â”‚  â”‚  â”‚               â”‚  â”‚               â”‚                â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚               â”‚  â”‚               â”‚                â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚          â”‚                   â”‚                   â”‚                        â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                              â”‚                                            â”‚
â”‚                    Docker Swarm Overlay Network                           â”‚
â”‚                                                                            â”‚
â”‚   CI/CD: Jenkins (CI) + Docker Stack deploy (CD)                          â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 10.3 Level 3: Advanced

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LEVEL 3: ADVANCED ARCHITECTURE                           â”‚
â”‚                    (Kubernetes Cluster)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   PhÃ¹ há»£p: Enterprise, 100k+ users, high availability                     â”‚
â”‚                                                                            â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                        â”‚    Load Balancer     â”‚                            â”‚
â”‚                        â”‚    (Cloud LB/CDN)    â”‚                            â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                   â”‚                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    Kubernetes Cluster                              â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚   â”‚   â”‚                  Ingress Controller                          â”‚ â”‚   â”‚
â”‚   â”‚   â”‚                  (Nginx Ingress)                             â”‚ â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚   â”‚                                                                    â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚
â”‚   â”‚   â”‚ Namespace:  â”‚  â”‚ Namespace:  â”‚  â”‚ Namespace:  â”‚               â”‚   â”‚
â”‚   â”‚   â”‚ production  â”‚  â”‚  staging    â”‚  â”‚   dev       â”‚               â”‚   â”‚
â”‚   â”‚   â”‚             â”‚  â”‚             â”‚  â”‚             â”‚               â”‚   â”‚
â”‚   â”‚   â”‚ Deployments â”‚  â”‚ Deployments â”‚  â”‚ Deployments â”‚               â”‚   â”‚
â”‚   â”‚   â”‚ Services    â”‚  â”‚ Services    â”‚  â”‚ Services    â”‚               â”‚   â”‚
â”‚   â”‚   â”‚ ConfigMaps  â”‚  â”‚ ConfigMaps  â”‚  â”‚ ConfigMaps  â”‚               â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   â”‚
â”‚   â”‚                                                                    â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚  Monitoring: Prometheus + Grafana                          â”‚   â”‚   â”‚
â”‚   â”‚   â”‚  Logging: ELK Stack / Loki                                 â”‚   â”‚   â”‚
â”‚   â”‚   â”‚  Secrets: Vault / Sealed Secrets                           â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                            â”‚
â”‚   CI/CD: GitHub Actions/Jenkins (CI) + ArgoCD (CD)                        â”‚
â”‚   Infrastructure: Terraform / Pulumi                                       â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 11. ÃP Dá»¤NG CHO Dá»° ÃN Cá»¦A Báº N

## 11.1 Hiá»‡n tráº¡ng

| Aspect | Hiá»‡n táº¡i | TÆ°Æ¡ng lai |
|--------|----------|-----------|
| **Scale** | 1 VPS, vÃ i users | Nhiá»u VPS, nhiá»u users |
| **Complexity** | ÄÆ¡n giáº£n | Platform cho nhiá»u projects |
| **Orchestration** | Docker Compose | CÃ³ thá»ƒ Swarm/K8s |
| **CI/CD** | Jenkins trong plan | Jenkins + cÃ³ thá»ƒ ArgoCD |

## 11.2 Äá» xuáº¥t cho báº¡n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RECOMMENDED APPROACH                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   PHASE 1: Há»c & Triá»ƒn khai cÆ¡ báº£n (Hiá»‡n táº¡i)                             â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”‚
â”‚   âœ“ Docker Compose (Ä‘á»§ cho 1 VPS)                                          â”‚
â”‚   âœ“ Nginx (reverse proxy)                                                  â”‚
â”‚   âœ“ Jenkins (CI/CD)                                                        â”‚
â”‚   âœ“ GitHub (source control)                                                â”‚
â”‚   âœ“ Docker Hub (image registry)                                            â”‚
â”‚                                                                            â”‚
â”‚   PHASE 2: Khi cáº§n scale (TÆ°Æ¡ng lai gáº§n)                                   â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚
â”‚   â†’ ThÃªm Traefik thay Nginx (auto-discovery)                              â”‚
â”‚   â†’ ThÃªm monitoring (Portainer/Prometheus)                                 â”‚
â”‚   â†’ ThÃªm backup automation                                                 â”‚
â”‚                                                                            â”‚
â”‚   PHASE 3: Khi traffic tÄƒng máº¡nh (TÆ°Æ¡ng lai xa)                           â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                            â”‚
â”‚   â†’ Migrate to Docker Swarm hoáº·c K8s                                       â”‚
â”‚   â†’ ThÃªm ArgoCD cho GitOps                                                 â”‚
â”‚   â†’ Managed database (RDS)                                                 â”‚
â”‚   â†’ CDN cho static assets                                                  â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 11.3 Tá»•ng káº¿t

| Báº¡n Há»ŒC | Báº¡n DÃ™NG ngay | Äá»ƒ SAU khi scale |
|---------|---------------|------------------|
| Docker concepts | Docker | Docker |
| Compose/Swarm/K8s | Docker Compose | Swarm â†’ K8s |
| Nginx/Traefik/Ingress | Nginx | Traefik â†’ Ingress |
| Jenkins/GH Actions/Argo | Jenkins | Jenkins + ArgoCD |
| GitOps concept | Git + Jenkins | Full GitOps |

---

## â“ CÃ¢u há»i tiáº¿p theo cá»§a báº¡n?

BÃ¢y giá» báº¡n Ä‘Ã£ cÃ³ cÃ¡i nhÃ¬n tá»•ng quan vá»:
- CÃ¡c khÃ¡i niá»‡m DevOps core
- CÃ¡c tools vÃ  khi nÃ o dÃ¹ng chÃºng
- Kiáº¿n trÃºc tá»« Ä‘Æ¡n giáº£n Ä‘áº¿n phá»©c táº¡p

---

# 12. KUBERNETES & INGRESS - DEEP DIVE

## 12.1 Kiáº¿n trÃºc Kubernetes chi tiáº¿t

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    KUBERNETES ARCHITECTURE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                      CONTROL PLANE (Master)                         â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚   â”‚   â”‚ API Server  â”‚  â”‚ Scheduler   â”‚  â”‚ Controller  â”‚  â”‚   etcd   â”‚ â”‚  â”‚
â”‚   â”‚   â”‚             â”‚  â”‚             â”‚  â”‚   Manager   â”‚  â”‚          â”‚ â”‚  â”‚
â”‚   â”‚   â”‚ â€¢ REST API  â”‚  â”‚ â€¢ Assign    â”‚  â”‚ â€¢ Node      â”‚  â”‚ â€¢ Key-   â”‚ â”‚  â”‚
â”‚   â”‚   â”‚ â€¢ Auth      â”‚  â”‚   pods to   â”‚  â”‚ â€¢ Replica   â”‚  â”‚   value  â”‚ â”‚  â”‚
â”‚   â”‚   â”‚ â€¢ Validate  â”‚  â”‚   nodes     â”‚  â”‚ â€¢ Endpoint  â”‚  â”‚   store  â”‚ â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚                                     â”‚
â”‚                                      â”‚ kubectl, API calls                  â”‚
â”‚                                      â–¼                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                        WORKER NODES                                 â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚   â”‚  â”‚                        NODE 1                                â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚ kubelet â”‚  â”‚ kube-   â”‚  â”‚Containerâ”‚                      â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚         â”‚  â”‚ proxy   â”‚  â”‚ Runtime â”‚                      â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚ â€¢ Agent â”‚  â”‚         â”‚  â”‚ (Docker)â”‚                      â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚ â€¢ Run   â”‚  â”‚ â€¢ Net   â”‚  â”‚         â”‚                      â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚   pods  â”‚  â”‚   rules â”‚  â”‚         â”‚                      â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚   â”‚  â”‚
â”‚   â”‚  â”‚                                                              â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚                        PODS                             â”‚ â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚  â”‚   Pod   â”‚  â”‚   Pod   â”‚  â”‚   Pod   â”‚  â”‚   Pod   â”‚   â”‚ â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚  â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚ â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚  â”‚â”‚ App   â”‚â”‚  â”‚â”‚ App   â”‚â”‚  â”‚â”‚ App   â”‚â”‚  â”‚â”‚ App   â”‚â”‚   â”‚ â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚  â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚ â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚   â”‚  â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚   â”‚  â”‚                        NODE 2, 3, ...N                       â”‚   â”‚  â”‚
â”‚   â”‚  â”‚                        (Similar structure)                   â”‚   â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 12.2 Kubernetes Objects chi tiáº¿t

### Pod
```yaml
# pod.yaml - ÄÆ¡n vá»‹ nhá» nháº¥t trong K8s
apiVersion: v1
kind: Pod
metadata:
  name: my-backend-pod
  labels:
    app: backend
spec:
  containers:
  - name: backend
    image: myuser/backend:v1
    ports:
    - containerPort: 4000
    env:
    - name: NODE_ENV
      value: "production"
    resources:
      limits:
        memory: "256Mi"
        cpu: "500m"
      requests:
        memory: "128Mi"
        cpu: "250m"
```

### Deployment
```yaml
# deployment.yaml - Quáº£n lÃ½ nhiá»u replicas cá»§a Pod
apiVersion: apps/v1
kind: Deployment
metadata:
  name: backend-deployment
spec:
  replicas: 3                    # Cháº¡y 3 instances
  selector:
    matchLabels:
      app: backend
  strategy:
    type: RollingUpdate         # Update khÃ´ng downtime
    rollingUpdate:
      maxSurge: 1               # Táº¡o thÃªm 1 pod khi update
      maxUnavailable: 0         # KhÃ´ng Ä‘Æ°á»£c cÃ³ pod unavailable
  template:
    metadata:
      labels:
        app: backend
    spec:
      containers:
      - name: backend
        image: myuser/backend:v1
        ports:
        - containerPort: 4000
```

### Service
```yaml
# service.yaml - Expose pods, load balancing
apiVersion: v1
kind: Service
metadata:
  name: backend-service
spec:
  selector:
    app: backend                 # Match vá»›i pods cÃ³ label nÃ y
  ports:
  - port: 80                     # Port expose ra ngoÃ i
    targetPort: 4000             # Port cá»§a container
  type: ClusterIP                # Chá»‰ internal, hoáº·c NodePort/LoadBalancer
```

## 12.3 Ingress chi tiáº¿t

### Ingress lÃ  gÃ¬?
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    INGRESS FLOW                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   Ingress = L7 Load Balancer trong K8s                                    â”‚
â”‚                                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                    INTERNET                                       â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                               â”‚                                            â”‚
â”‚                               â–¼                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                 INGRESS CONTROLLER                                â”‚    â”‚
â”‚   â”‚           (Pod cháº¡y Nginx/Traefik/etc.)                          â”‚    â”‚
â”‚   â”‚                                                                   â”‚    â”‚
â”‚   â”‚   Äá»c Ingress Resources â†’ Táº¡o routing rules                      â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                               â”‚                                            â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚           â”‚                   â”‚                   â”‚                       â”‚
â”‚           â–¼                   â–¼                   â–¼                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   â”‚   Service    â”‚   â”‚   Service    â”‚   â”‚   Service    â”‚                 â”‚
â”‚   â”‚   Frontend   â”‚   â”‚   Backend    â”‚   â”‚   Jenkins    â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ingress Resource
```yaml
# ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: main-ingress
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
    cert-manager.io/cluster-issuer: letsencrypt-prod  # Auto SSL
spec:
  ingressClassName: nginx
  tls:
  - hosts:
    - projecthub.vn
    - api.projecthub.vn
    secretName: tls-secret
  rules:
  # Frontend
  - host: projecthub.vn
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: frontend-service
            port:
              number: 80
  # Backend API
  - host: api.projecthub.vn
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: backend-service
            port:
              number: 80
  # Jenkins
  - host: jenkins.projecthub.vn
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: jenkins-service
            port:
              number: 8080
```

### Ingress Controllers phá»• biáº¿n

| Controller | Äáº·c Ä‘iá»ƒm | Use case |
|------------|----------|----------|
| **Nginx Ingress** | Phá»• biáº¿n nháº¥t, stable | General purpose |
| **Traefik** | Auto-discovery, middlewares | Dynamic environments |
| **HAProxy Ingress** | High performance | High traffic |
| **Kong** | API Gateway features | API management |
| **Istio Gateway** | Service mesh integration | Microservices |

## 12.4 CÃ i Ä‘áº·t Kubernetes (Local vá»›i Minikube)

```bash
# CÃ i Minikube (cho há»c táº­p)
# macOS
brew install minikube

# Start cluster
minikube start --cpus=2 --memory=4096

# Enable ingress
minikube addons enable ingress

# Kiá»ƒm tra
kubectl get nodes
kubectl get pods -A

# Deploy app
kubectl apply -f deployment.yaml
kubectl apply -f service.yaml
kubectl apply -f ingress.yaml

# Xem pods
kubectl get pods
kubectl get services
kubectl get ingress

# Logs
kubectl logs <pod-name>

# Exec vÃ o pod
kubectl exec -it <pod-name> -- /bin/sh

# Scale
kubectl scale deployment backend-deployment --replicas=5

# Update image
kubectl set image deployment/backend-deployment backend=myuser/backend:v2
```

---

# 13. JENKINS CI/CD - HÆ¯á»šNG DáºªN CHI TIáº¾T

## 13.1 Jenkins Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    JENKINS ARCHITECTURE                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                     JENKINS MASTER                                  â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚  â”‚
â”‚   â”‚   â”‚     Web      â”‚  â”‚   Job        â”‚  â”‚   Plugin     â”‚            â”‚  â”‚
â”‚   â”‚   â”‚     UI       â”‚  â”‚  Scheduler   â”‚  â”‚   Manager    â”‚            â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚  â”‚
â”‚   â”‚                                                                     â”‚  â”‚
â”‚   â”‚   â€¢ Quáº£n lÃ½ jobs, pipelines                                        â”‚  â”‚
â”‚   â”‚   â€¢ Schedule builds                                                 â”‚  â”‚
â”‚   â”‚   â€¢ Delegate work to agents                                         â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                             â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚              â–¼               â–¼               â–¼                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚   â”‚Agent/Slave 1 â”‚  â”‚Agent/Slave 2 â”‚  â”‚Agent/Slave 3 â”‚                   â”‚
â”‚   â”‚              â”‚  â”‚              â”‚  â”‚              â”‚                   â”‚
â”‚   â”‚ Execute jobs â”‚  â”‚ Execute jobs â”‚  â”‚ Execute jobs â”‚                   â”‚
â”‚   â”‚ Docker build â”‚  â”‚ Tests        â”‚  â”‚ Deployments  â”‚                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 13.2 CÃ i Ä‘áº·t Jenkins vá»›i Docker

```yaml
# docker-compose.yml cho Jenkins
version: '3.8'

services:
  jenkins:
    image: jenkins/jenkins:lts-jdk17
    container_name: jenkins
    restart: unless-stopped
    user: root
    environment:
      - JAVA_OPTS=-Xmx1024m -Xms512m
    volumes:
      - jenkins_home:/var/jenkins_home
      - /var/run/docker.sock:/var/run/docker.sock   # Äá»ƒ build Docker trong Jenkins
      - /usr/bin/docker:/usr/bin/docker             # Docker binary
    ports:
      - "8080:8080"      # Web UI
      - "50000:50000"    # Agent connections
    networks:
      - app-network

volumes:
  jenkins_home:

networks:
  app-network:
    driver: bridge
```

```bash
# Deploy Jenkins
docker compose up -d

# Láº¥y initial admin password
docker exec jenkins cat /var/jenkins_home/secrets/initialAdminPassword

# Truy cáº­p: http://localhost:8080
```

## 13.3 Cáº¥u hÃ¬nh Jenkins ban Ä‘áº§u

### BÆ°á»›c 1: Unlock Jenkins
- Truy cáº­p `http://your-server:8080`
- Nháº­p initial password tá»« command trÃªn

### BÆ°á»›c 2: CÃ i Ä‘áº·t Plugins
CÃ i cÃ¡c plugins cáº§n thiáº¿t:
- **Docker Pipeline** - Build Docker images
- **Pipeline** - Pipeline as Code
- **Git** - Git integration
- **GitHub Integration** - Webhooks, status
- **Credentials Binding** - Quáº£n lÃ½ secrets
- **SSH Agent** - SSH cho deployment
- **NodeJS** - NodeJS builds

### BÆ°á»›c 3: Cáº¥u hÃ¬nh Credentials

```
Manage Jenkins â†’ Credentials â†’ System â†’ Global credentials

1. Docker Hub Credentials:
   - Kind: Username with password
   - ID: docker-hub-creds
   - Username: your-dockerhub-username
   - Password: your-dockerhub-token

2. SSH Key cho VPS:
   - Kind: SSH Username with private key
   - ID: vps-ssh-key
   - Username: deploy
   - Private Key: (paste your private key)

3. GitHub Webhook Secret:
   - Kind: Secret text
   - ID: github-webhook-secret
   - Secret: your-webhook-secret
```

## 13.4 Jenkinsfile chi tiáº¿t

```groovy
// Jenkinsfile - Pipeline as Code
pipeline {
    agent any
    
    environment {
        DOCKER_REGISTRY = 'docker.io'
        DOCKER_IMAGE = 'yourusername/project-hub-backend'
        DOCKER_CREDENTIALS = 'docker-hub-creds'
        VPS_HOST = '103.173.155.185'
        VPS_USER = 'deploy'
        APP_DIR = '/home/deploy/apps/backend'
    }
    
    parameters {
        string(name: 'COMMIT_HASH', defaultValue: '', description: 'Git commit hash')
        string(name: 'BUILD_ID_FROM_BACKEND', defaultValue: '', description: 'Build ID from platform')
        booleanParam(name: 'SKIP_TESTS', defaultValue: false, description: 'Skip tests')
        booleanParam(name: 'ENABLE_DEPLOY', defaultValue: true, description: 'Deploy after build')
    }
    
    stages {
        stage('Checkout') {
            steps {
                echo "ğŸ“¥ Checking out code..."
                checkout scm
                
                script {
                    env.GIT_COMMIT_SHORT = sh(
                        script: 'git rev-parse --short HEAD',
                        returnStdout: true
                    ).trim()
                    env.IMAGE_TAG = "${env.BUILD_NUMBER}-${env.GIT_COMMIT_SHORT}"
                }
            }
        }
        
        stage('Install Dependencies') {
            steps {
                echo "ğŸ“¦ Installing dependencies..."
                sh 'npm ci'
            }
        }
        
        stage('Lint & Test') {
            when {
                expression { return !params.SKIP_TESTS }
            }
            parallel {
                stage('Lint') {
                    steps {
                        echo "ğŸ” Running linter..."
                        sh 'npm run lint || true'
                    }
                }
                stage('Unit Tests') {
                    steps {
                        echo "ğŸ§ª Running unit tests..."
                        sh 'npm run test || true'
                    }
                }
            }
        }
        
        stage('Build Docker Image') {
            steps {
                echo "ğŸ³ Building Docker image..."
                script {
                    docker.withRegistry("https://${DOCKER_REGISTRY}", DOCKER_CREDENTIALS) {
                        def image = docker.build("${DOCKER_IMAGE}:${IMAGE_TAG}")
                        
                        // Push vá»›i tag cá»¥ thá»ƒ
                        image.push()
                        
                        // Push tag latest
                        image.push('latest')
                    }
                }
            }
        }
        
        stage('Deploy to VPS') {
            when {
                expression { return params.ENABLE_DEPLOY }
            }
            steps {
                echo "ğŸš€ Deploying to VPS..."
                sshagent(['vps-ssh-key']) {
                    sh """
                        ssh -o StrictHostKeyChecking=no ${VPS_USER}@${VPS_HOST} '
                            cd ${APP_DIR}
                            
                            # Update image tag in .env
                            sed -i "s/TAG=.*/TAG=${IMAGE_TAG}/" .env
                            
                            # Pull new image
                            docker compose pull
                            
                            # Restart with new image
                            docker compose up -d
                            
                            # Cleanup old images
                            docker image prune -f
                            
                            echo "âœ… Deployment completed!"
                        '
                    """
                }
            }
        }
    }
    
    post {
        success {
            echo "âœ… Build ${BUILD_NUMBER} succeeded!"
            script {
                if (params.BUILD_ID_FROM_BACKEND) {
                    // Notify platform vá» build success
                    httpRequest(
                        url: "${env.PLATFORM_URL}/api/builds/${params.BUILD_ID_FROM_BACKEND}/status",
                        httpMode: 'PATCH',
                        contentType: 'APPLICATION_JSON',
                        requestBody: """
                            {
                                "status": "SUCCESS",
                                "jenkinsBuildNumber": "${BUILD_NUMBER}",
                                "imageTag": "${IMAGE_TAG}",
                                "finishedAt": "${new Date().toISOString()}"
                            }
                        """
                    )
                }
            }
        }
        failure {
            echo "âŒ Build ${BUILD_NUMBER} failed!"
            script {
                if (params.BUILD_ID_FROM_BACKEND) {
                    httpRequest(
                        url: "${env.PLATFORM_URL}/api/builds/${params.BUILD_ID_FROM_BACKEND}/status",
                        httpMode: 'PATCH',
                        contentType: 'APPLICATION_JSON',
                        requestBody: """
                            {
                                "status": "FAILED",
                                "jenkinsBuildNumber": "${BUILD_NUMBER}",
                                "finishedAt": "${new Date().toISOString()}"
                            }
                        """
                    )
                }
            }
        }
        always {
            // Cleanup workspace
            cleanWs()
        }
    }
}
```

## 13.5 Táº¡o Job trong Jenkins

### Pipeline Job tá»« GitHub

```
1. New Item â†’ Pipeline â†’ Enter name â†’ OK

2. General:
   âœ“ GitHub project: https://github.com/youruser/yourrepo

3. Build Triggers:
   âœ“ GitHub hook trigger for GITScm polling

4. Pipeline:
   Definition: Pipeline script from SCM
   SCM: Git
   Repository URL: https://github.com/youruser/yourrepo.git
   Branch: */main
   Script Path: Jenkinsfile
```

### Webhook trong GitHub

```
GitHub Repo â†’ Settings â†’ Webhooks â†’ Add webhook

Payload URL: https://jenkins.yourdomain.com/github-webhook/
Content type: application/json
Secret: your-webhook-secret
Events: Just the push event
```

## 13.6 CI/CD Flow hoÃ n chá»‰nh

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COMPLETE CI/CD FLOW                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   Developer                                                                â”‚
â”‚      â”‚                                                                     â”‚
â”‚      â”‚ 1. git push                                                         â”‚
â”‚      â–¼                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                              â”‚
â”‚   â”‚ GitHub  â”‚ â”€â”€â”€ 2. Webhook â”€â”€â”€â–¶ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚   Platform  â”‚                         â”‚
â”‚                                   â”‚   Backend   â”‚                         â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                          â”‚                                 â”‚
â”‚                                          â”‚ 3. Create Build record          â”‚
â”‚                                          â”‚ 4. Trigger Jenkins              â”‚
â”‚                                          â–¼                                 â”‚
â”‚                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚                                   â”‚   Jenkins   â”‚                         â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                          â”‚                                 â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚              â”‚                           â”‚                           â”‚    â”‚
â”‚              â–¼                           â–¼                           â–¼    â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚        â”‚ Checkout â”‚â”€â”€â–¶           â”‚   Build   â”‚â”€â”€â–¶           â”‚   Test    â”‚â”‚
â”‚        â”‚   Code   â”‚              â”‚   Image   â”‚              â”‚   Lint    â”‚â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                          â”‚                                 â”‚
â”‚                                          â–¼                                 â”‚
â”‚                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                                   â”‚   Push    â”‚                           â”‚
â”‚                                   â”‚ Docker Hubâ”‚                           â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                         â”‚                                  â”‚
â”‚                                         â–¼                                  â”‚
â”‚                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                                   â”‚  Deploy   â”‚                           â”‚
â”‚                                   â”‚   VPS     â”‚                           â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                         â”‚                                  â”‚
â”‚                                         â”‚ 5. Callback                      â”‚
â”‚                                         â–¼                                  â”‚
â”‚                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚                                   â”‚   Platform  â”‚                         â”‚
â”‚                                   â”‚   Backend   â”‚                         â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                          â”‚                                 â”‚
â”‚                                          â”‚ 6. Update Build status          â”‚
â”‚                                          â–¼                                 â”‚
â”‚                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚                                   â”‚  Database   â”‚                         â”‚
â”‚                                   â”‚   (Build    â”‚                         â”‚
â”‚                                   â”‚   record)   â”‚                         â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 14. NGINX vs TRAEFIK - SO SÃNH CHI TIáº¾T

## 14.1 Tá»•ng quan

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NGINX vs TRAEFIK                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   â”‚            NGINX                â”‚  â”‚           TRAEFIK               â”‚â”‚
â”‚   â”‚                                 â”‚  â”‚                                 â”‚â”‚
â”‚   â”‚  â€¢ Static configuration         â”‚  â”‚  â€¢ Dynamic configuration        â”‚â”‚
â”‚   â”‚  â€¢ Reload khi Ä‘á»•i config        â”‚  â”‚  â€¢ Auto-discovery containers    â”‚â”‚
â”‚   â”‚  â€¢ Mature, stable               â”‚  â”‚  â€¢ Modern, cloud-native         â”‚â”‚
â”‚   â”‚  â€¢ Nhiá»u tÃ i liá»‡u               â”‚  â”‚  â€¢ Built-in Let's Encrypt       â”‚â”‚
â”‚   â”‚  â€¢ Phá»• biáº¿n vá»›i sysadmins       â”‚  â”‚  â€¢ Dashboard UI                 â”‚â”‚
â”‚   â”‚                                 â”‚  â”‚                                 â”‚â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 14.2 So sÃ¡nh chi tiáº¿t

| Feature | Nginx | Traefik |
|---------|-------|---------|
| **Config** | Static (nginx.conf) | Dynamic (labels, files, API) |
| **Reload** | Cáº§n reload nginx | Hot reload tá»± Ä‘á»™ng |
| **SSL** | Cáº§n Certbot riÃªng | Built-in Let's Encrypt |
| **Container Discovery** | Manual config | Auto tá»« Docker labels |
| **Performance** | Ráº¥t cao | Cao |
| **Learning Curve** | Trung bÃ¬nh | Trung bÃ¬nh-Cao |
| **Memory** | ~50MB | ~100MB |
| **Dashboard** | KhÃ´ng cÃ³ | CÃ³ sáºµn |
| **Middleware** | Nginx modules | Built-in middlewares |
| **Documentation** | Ráº¥t nhiá»u | Tá»‘t |
| **Best for** | Traditional, static | Docker/K8s, dynamic |

## 14.3 Nginx Configuration

### nginx.conf
```nginx
events {
    worker_connections 1024;
}

http {
    include /etc/nginx/mime.types;
    default_type application/octet-stream;
    
    # Logging
    access_log /var/log/nginx/access.log;
    error_log /var/log/nginx/error.log;
    
    # Gzip compression
    gzip on;
    gzip_types text/plain text/css application/json application/javascript;
    
    # Upstreams - Ä‘á»‹nh nghÄ©a backend servers
    upstream frontend {
        server frontend:3000;
    }
    
    upstream backend {
        server backend:4000;
    }
    
    upstream jenkins {
        server jenkins:8080;
    }
    
    # HTTP to HTTPS redirect
    server {
        listen 80;
        server_name _;
        return 301 https://$host$request_uri;
    }
    
    # Frontend
    server {
        listen 443 ssl http2;
        server_name projecthub.vn www.projecthub.vn;
        
        ssl_certificate /etc/letsencrypt/live/projecthub.vn/fullchain.pem;
        ssl_certificate_key /etc/letsencrypt/live/projecthub.vn/privkey.pem;
        
        # Security headers
        add_header X-Frame-Options "SAMEORIGIN" always;
        add_header X-Content-Type-Options "nosniff" always;
        
        location / {
            proxy_pass http://frontend;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection 'upgrade';
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_cache_bypass $http_upgrade;
        }
    }
    
    # Backend API
    server {
        listen 443 ssl http2;
        server_name api.projecthub.vn;
        
        ssl_certificate /etc/letsencrypt/live/projecthub.vn/fullchain.pem;
        ssl_certificate_key /etc/letsencrypt/live/projecthub.vn/privkey.pem;
        
        # WebSocket support
        location / {
            proxy_pass http://backend;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection 'upgrade';
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
    # Jenkins
    server {
        listen 443 ssl http2;
        server_name jenkins.projecthub.vn;
        
        ssl_certificate /etc/letsencrypt/live/projecthub.vn/fullchain.pem;
        ssl_certificate_key /etc/letsencrypt/live/projecthub.vn/privkey.pem;
        
        location / {
            proxy_pass http://jenkins;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            
            # Jenkins-specific headers
            proxy_set_header X-Forwarded-Host $host;
            proxy_set_header X-Forwarded-Port $server_port;
        }
    }
}
```

### Docker Compose vá»›i Nginx
```yaml
services:
  nginx:
    image: nginx:alpine
    container_name: nginx
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
      - /etc/letsencrypt:/etc/letsencrypt:ro
    depends_on:
      - frontend
      - backend
```

## 14.4 Traefik Configuration

### traefik.yml (Static config)
```yaml
# traefik.yml
api:
  dashboard: true
  insecure: false

entryPoints:
  web:
    address: ":80"
    http:
      redirections:
        entryPoint:
          to: websecure
          scheme: https
  websecure:
    address: ":443"

providers:
  docker:
    endpoint: "unix:///var/run/docker.sock"
    exposedByDefault: false    # Require explicit labels
    network: app-network

certificatesResolvers:
  letsencrypt:
    acme:
      email: your@email.com
      storage: /letsencrypt/acme.json
      httpChallenge:
        entryPoint: web

log:
  level: INFO
```

### Docker Compose vá»›i Traefik
```yaml
version: '3.8'

services:
  traefik:
    image: traefik:v3.0
    container_name: traefik
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./traefik.yml:/etc/traefik/traefik.yml:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - letsencrypt:/letsencrypt
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.dashboard.rule=Host(`traefik.projecthub.vn`)"
      - "traefik.http.routers.dashboard.entrypoints=websecure"
      - "traefik.http.routers.dashboard.tls.certresolver=letsencrypt"
      - "traefik.http.routers.dashboard.service=api@internal"
      - "traefik.http.routers.dashboard.middlewares=auth"
      - "traefik.http.middlewares.auth.basicauth.users=admin:$$apr1$$xxx"
    networks:
      - app-network

  frontend:
    image: myuser/frontend:latest
    container_name: frontend
    restart: unless-stopped
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.frontend.rule=Host(`projecthub.vn`)"
      - "traefik.http.routers.frontend.entrypoints=websecure"
      - "traefik.http.routers.frontend.tls.certresolver=letsencrypt"
      - "traefik.http.services.frontend.loadbalancer.server.port=3000"
    networks:
      - app-network

  backend:
    image: myuser/backend:latest
    container_name: backend
    restart: unless-stopped
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.backend.rule=Host(`api.projecthub.vn`)"
      - "traefik.http.routers.backend.entrypoints=websecure"
      - "traefik.http.routers.backend.tls.certresolver=letsencrypt"
      - "traefik.http.services.backend.loadbalancer.server.port=4000"
    networks:
      - app-network

  jenkins:
    image: jenkins/jenkins:lts
    container_name: jenkins
    restart: unless-stopped
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.jenkins.rule=Host(`jenkins.projecthub.vn`)"
      - "traefik.http.routers.jenkins.entrypoints=websecure"
      - "traefik.http.routers.jenkins.tls.certresolver=letsencrypt"
      - "traefik.http.services.jenkins.loadbalancer.server.port=8080"
    networks:
      - app-network

volumes:
  letsencrypt:

networks:
  app-network:
    driver: bridge
```

## 14.5 Khi nÃ o dÃ¹ng gÃ¬?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DECISION GUIDE                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   CHá»ŒN NGINX khi:                                                          â”‚
â”‚   âœ“ Sá»‘ lÆ°á»£ng services Ã­t vÃ  Ã­t thay Ä‘á»•i                                   â”‚
â”‚   âœ“ Cáº§n static file serving tá»‘t                                           â”‚
â”‚   âœ“ Team quen vá»›i Nginx                                                   â”‚
â”‚   âœ“ Cáº§n maximum performance                                                â”‚
â”‚   âœ“ DÃ¹ng lÃ m web server + reverse proxy                                   â”‚
â”‚                                                                            â”‚
â”‚   CHá»ŒN TRAEFIK khi:                                                        â”‚
â”‚   âœ“ Containers thay Ä‘á»•i thÆ°á»ng xuyÃªn                                      â”‚
â”‚   âœ“ DÃ¹ng Docker/K8s environment                                           â”‚
â”‚   âœ“ Muá»‘n auto SSL Ä‘Æ¡n giáº£n                                                â”‚
â”‚   âœ“ Cáº§n dashboard monitoring                                               â”‚
â”‚   âœ“ Microservices vá»›i nhiá»u services                                      â”‚
â”‚                                                                            â”‚
â”‚   CHO Dá»° ÃN Cá»¦A Báº N:                                                       â”‚
â”‚   â†’ Báº¯t Ä‘áº§u vá»›i NGINX (Ä‘Æ¡n giáº£n, quen thuá»™c, nhiá»u tÃ i liá»‡u)              â”‚
â”‚   â†’ Chuyá»ƒn sang TRAEFIK khi cáº§n auto-discovery cho user projects          â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 15. THá»°C HÃ€NH Tá»ªNG SERVICE

## 15.1 Tá»•ng quan quy trÃ¬nh

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DEPLOYMENT ORDER                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚   STEP 1: Chuáº©n bá»‹ VPS                                                     â”‚
â”‚      â†“                                                                     â”‚
â”‚   STEP 2: Deploy Database (PostgreSQL)                                     â”‚
â”‚      â†“                                                                     â”‚
â”‚   STEP 3: Deploy Backend (NestJS)                                          â”‚
â”‚      â†“                                                                     â”‚
â”‚   STEP 4: Deploy Frontend (NextJS)                                         â”‚
â”‚      â†“                                                                     â”‚
â”‚   STEP 5: Deploy Nginx (Reverse Proxy + SSL)                               â”‚
â”‚      â†“                                                                     â”‚
â”‚   STEP 6: (Optional) Deploy Jenkins                                        â”‚
â”‚                                                                            â”‚
â”‚   Má»—i service PHáº¢I deploy Ä‘á»™c láº­p, cÃ³ thá»ƒ test riÃªng                      â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 15.2 STEP 1: Chuáº©n bá»‹ VPS

```bash
# SSH vÃ o VPS
ssh root@103.173.155.185

# Update system
apt update && apt upgrade -y

# CÃ i cÃ¡c packages cáº§n thiáº¿t
apt install -y curl wget git vim htop net-tools

# CÃ i Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

# CÃ i Docker Compose plugin
apt install -y docker-compose-plugin

# Táº¡o user deploy (khÃ´ng dÃ¹ng root Ä‘á»ƒ cháº¡y apps)
adduser deploy
usermod -aG sudo deploy
usermod -aG docker deploy

# Táº¡o cáº¥u trÃºc thÆ° má»¥c
mkdir -p /home/deploy/apps/{database,backend,frontend,nginx,jenkins}
chown -R deploy:deploy /home/deploy/apps

# Táº¡o Docker network chung
docker network create app-network

# Cáº¥u hÃ¬nh firewall
ufw default deny incoming
ufw default allow outgoing
ufw allow 22/tcp   # SSH
ufw allow 80/tcp   # HTTP
ufw allow 443/tcp  # HTTPS
ufw enable

# Verify
docker --version
docker compose version
```

## 15.3 STEP 2: Deploy Database (PostgreSQL)

### Táº¡o files
```bash
# Chuyá»ƒn sang user deploy
su - deploy
cd ~/apps/database
```

### docker-compose.yml
```yaml
# ~/apps/database/docker-compose.yml
version: '3.8'

services:
  postgres:
    image: postgres:16-alpine
    container_name: postgres
    restart: unless-stopped
    environment:
      POSTGRES_USER: ${POSTGRES_USER}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
      POSTGRES_DB: ${POSTGRES_DB}
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./backups:/backups
    ports:
      - "127.0.0.1:5432:5432"  # Chá»‰ localhost access
    networks:
      - app-network
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U ${POSTGRES_USER}"]
      interval: 10s
      timeout: 5s
      retries: 5

volumes:
  postgres_data:

networks:
  app-network:
    external: true
```

### .env
```bash
# ~/apps/database/.env
POSTGRES_USER=admin
POSTGRES_PASSWORD=$(openssl rand -base64 24)  # Táº¡o password random
POSTGRES_DB=project_hub
```

### Deploy & Test
```bash
cd ~/apps/database

# Start
docker compose up -d

# Check status
docker compose ps
docker compose logs

# Test connection
docker exec -it postgres psql -U admin -d project_hub -c "SELECT 1;"

# Táº¡o thÃªm database náº¿u cáº§n
docker exec -it postgres psql -U admin -c "CREATE DATABASE another_db;"
```

### Backup script
```bash
# ~/apps/database/backup.sh
#!/bin/bash
BACKUP_DIR="/home/deploy/apps/database/backups"
DATE=$(date +%Y%m%d_%H%M%S)
docker exec postgres pg_dumpall -U admin | gzip > $BACKUP_DIR/backup_$DATE.sql.gz
find $BACKUP_DIR -name "*.sql.gz" -mtime +7 -delete
```

```bash
chmod +x backup.sh

# Crontab Ä‘á»ƒ backup hÃ ng ngÃ y
(crontab -l 2>/dev/null; echo "0 2 * * * /home/deploy/apps/database/backup.sh") | crontab -
```

## 15.4 STEP 3: Deploy Backend (NestJS)

### TrÃªn mÃ¡y local: Build Docker image

```bash
# VÃ o thÆ° má»¥c backend
cd /Users/trantrongtri/Desktop/Thu/Project_Operation_Hub

# Login Docker Hub (láº§n Ä‘áº§u)
docker login

# Build image (cho Linux server)
docker build --platform linux/amd64 -t yourusername/project-hub-backend:v1 .

# Push lÃªn Docker Hub
docker push yourusername/project-hub-backend:v1
```

### TrÃªn VPS: Deploy

```bash
cd ~/apps/backend
```

### docker-compose.yml
```yaml
# ~/apps/backend/docker-compose.yml
version: '3.8'

services:
  backend:
    image: ${DOCKER_USER}/project-hub-backend:${TAG:-latest}
    container_name: backend
    restart: unless-stopped
    env_file:
      - .env
    ports:
      - "127.0.0.1:4000:4000"
    networks:
      - app-network
    depends_on:
      - postgres
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:4000/health"]
      interval: 30s
      timeout: 10s
      retries: 3

networks:
  app-network:
    external: true
```

### .env
```bash
# ~/apps/backend/.env

# Docker
DOCKER_USER=yourusername
TAG=v1

# Application
NODE_ENV=production
API_PORT=4000

# Database (connect qua Docker network)
DB_HOST=postgres
DB_PORT=5432
POSTGRES_USER=admin
POSTGRES_PASSWORD=your_database_password
POSTGRES_DB=project_hub

# JWT
JWT_ACCESS_TOKEN_SECRET=your_jwt_access_secret
JWT_REFRESH_TOKEN_SECRET=your_jwt_refresh_secret
JWT_ACCESS_TOKEN_EXPIRATION=15m
JWT_REFRESH_TOKEN_EXPIRATION=7d

# Frontend URL
APP_FRONTEND_URL=https://projecthub.vn

# GitHub OAuth
GITHUB_CLIENT_ID=xxx
GITHUB_CLIENT_SECRET=xxx
GITHUB_CALLBACK_URL=https://api.projecthub.vn/auth/github/callback

# Google OAuth
GOOGLE_CLIENT_ID=xxx
GOOGLE_CLIENT_SECRET=xxx
GOOGLE_CALLBACK_URL=https://api.projecthub.vn/auth/google/redirect

# SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your@gmail.com
SMTP_PASSWORD=your_app_password
```

### Deploy & Test
```bash
cd ~/apps/backend

# Pull image
docker compose pull

# Start
docker compose up -d

# Check logs
docker compose logs -f

# Test API
curl http://localhost:4000/health
```

## 15.5 STEP 4: Deploy Frontend (NextJS)

### TrÃªn mÃ¡y local: Build Docker image

```bash
cd /Users/trantrongtri/Desktop/Thu/project-operation-hub-ui

# Build vá»›i API URL
docker build --platform linux/amd64 \
  --build-arg NEXT_PUBLIC_API_URL=https://api.projecthub.vn \
  -t yourusername/project-hub-frontend:v1 .

# Push
docker push yourusername/project-hub-frontend:v1
```

### TrÃªn VPS: Deploy

```bash
cd ~/apps/frontend
```

### docker-compose.yml
```yaml
# ~/apps/frontend/docker-compose.yml
version: '3.8'

services:
  frontend:
    image: ${DOCKER_USER}/project-hub-frontend:${TAG:-latest}
    container_name: frontend
    restart: unless-stopped
    environment:
      - NEXT_PUBLIC_API_URL=${NEXT_PUBLIC_API_URL}
    ports:
      - "127.0.0.1:3000:3000"
    networks:
      - app-network
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:3000"]
      interval: 30s
      timeout: 10s
      retries: 3

networks:
  app-network:
    external: true
```

### .env
```bash
# ~/apps/frontend/.env
DOCKER_USER=yourusername
TAG=v1
NEXT_PUBLIC_API_URL=https://api.projecthub.vn
```

### Deploy & Test
```bash
cd ~/apps/frontend
docker compose pull
docker compose up -d
docker compose logs -f

# Test
curl http://localhost:3000
```

## 15.6 STEP 5: Deploy Nginx (Reverse Proxy + SSL)

### CÃ i Certbot Ä‘á»ƒ láº¥y SSL
```bash
# CÃ i Certbot
apt install -y certbot

# Láº¥y SSL certificate (thay báº±ng domain cá»§a báº¡n)
certbot certonly --standalone -d projecthub.vn -d www.projecthub.vn -d api.projecthub.vn -d jenkins.projecthub.vn

# Certificate sáº½ Ä‘Æ°á»£c lÆ°u táº¡i:
# /etc/letsencrypt/live/projecthub.vn/fullchain.pem
# /etc/letsencrypt/live/projecthub.vn/privkey.pem

# Auto-renew
(crontab -l 2>/dev/null; echo "0 0 1 * * certbot renew --quiet") | crontab -
```

### Táº¡o Nginx config
```bash
cd ~/apps/nginx
```

### docker-compose.yml
```yaml
# ~/apps/nginx/docker-compose.yml
version: '3.8'

services:
  nginx:
    image: nginx:alpine
    container_name: nginx
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
      - /etc/letsencrypt:/etc/letsencrypt:ro
    networks:
      - app-network

networks:
  app-network:
    external: true
```

### nginx.conf
```nginx
# ~/apps/nginx/nginx.conf
events {
    worker_connections 1024;
}

http {
    include /etc/nginx/mime.types;
    default_type application/octet-stream;
    
    # Logging
    access_log /var/log/nginx/access.log;
    error_log /var/log/nginx/error.log;
    
    # Gzip
    gzip on;
    gzip_types text/plain text/css application/json application/javascript;
    
    # HTTP â†’ HTTPS redirect
    server {
        listen 80;
        server_name _;
        return 301 https://$host$request_uri;
    }
    
    # Frontend
    server {
        listen 443 ssl http2;
        server_name projecthub.vn www.projecthub.vn;
        
        ssl_certificate /etc/letsencrypt/live/projecthub.vn/fullchain.pem;
        ssl_certificate_key /etc/letsencrypt/live/projecthub.vn/privkey.pem;
        
        location / {
            proxy_pass http://frontend:3000;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection 'upgrade';
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
    # Backend API
    server {
        listen 443 ssl http2;
        server_name api.projecthub.vn;
        
        ssl_certificate /etc/letsencrypt/live/projecthub.vn/fullchain.pem;
        ssl_certificate_key /etc/letsencrypt/live/projecthub.vn/privkey.pem;
        
        location / {
            proxy_pass http://backend:4000;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection 'upgrade';
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
    # Jenkins (optional)
    server {
        listen 443 ssl http2;
        server_name jenkins.projecthub.vn;
        
        ssl_certificate /etc/letsencrypt/live/projecthub.vn/fullchain.pem;
        ssl_certificate_key /etc/letsencrypt/live/projecthub.vn/privkey.pem;
        
        location / {
            proxy_pass http://jenkins:8080;
            proxy_http_version 1.1;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
}
```

### Deploy & Test
```bash
cd ~/apps/nginx
docker compose up -d
docker compose logs -f

# Test
curl -I https://projecthub.vn
curl -I https://api.projecthub.vn
```

## 15.7 Kiá»ƒm tra toÃ n bá»™ há»‡ thá»‘ng

```bash
# Xem táº¥t cáº£ containers
docker ps

# Kiá»ƒm tra network
docker network inspect app-network

# Test tá»«ng service
curl http://localhost:5432       # Database (khÃ´ng accessible tá»« bÃªn ngoÃ i)
curl http://localhost:4000/health  # Backend
curl http://localhost:3000         # Frontend
curl https://projecthub.vn         # Qua Nginx
curl https://api.projecthub.vn/health  # Qua Nginx

# Xem logs
docker compose -f ~/apps/database/docker-compose.yml logs
docker compose -f ~/apps/backend/docker-compose.yml logs
docker compose -f ~/apps/frontend/docker-compose.yml logs
docker compose -f ~/apps/nginx/docker-compose.yml logs
```

## 15.8 Commands hay dÃ¹ng

```bash
# Restart service
cd ~/apps/backend
docker compose restart

# Update service (sau khi push image má»›i)
docker compose pull
docker compose up -d

# View logs
docker compose logs -f

# Exec vÃ o container
docker exec -it backend sh
docker exec -it postgres psql -U admin

# Stop all
docker compose down

# Check resource usage
docker stats

# Cleanup
docker system prune -af
```

---

# ğŸ“‹ Tá»”NG Káº¾T

## Checklist trÆ°á»›c khi deploy

- [ ] VPS Ä‘Ã£ cÃ i Docker vÃ  Docker Compose
- [ ] ÄÃ£ táº¡o Docker network `app-network`
- [ ] ÄÃ£ táº¡o tÃ i khoáº£n Docker Hub
- [ ] ÄÃ£ cÃ³ domain vÃ  configure DNS
- [ ] ÄÃ£ cÃ³ GitHub OAuth App
- [ ] ÄÃ£ cÃ³ Google OAuth App
- [ ] ÄÃ£ cÃ³ Gmail App Password cho SMTP
- [ ] ÄÃ£ generate táº¥t cáº£ secrets (JWT, webhook, etc.)

## Thá»© tá»± deploy

1. âœ… Database (PostgreSQL)
2. âœ… Backend (NestJS)
3. âœ… Frontend (NextJS)
4. âœ… Nginx (Reverse Proxy + SSL)
5. (Optional) Jenkins

## Maintenance commands

```bash
# Daily backup (Ä‘Ã£ setup crontab)
~/apps/database/backup.sh

# Update deployment
cd ~/apps/backend
docker compose pull && docker compose up -d

# View all logs
docker compose -f ~/apps/nginx/docker-compose.yml logs -f

# Check disk space
df -h
docker system df
```
